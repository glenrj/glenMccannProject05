(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{119:function(e,t,a){},120:function(e,t,a){},121:function(e,t,a){},122:function(e,t,a){},123:function(e,t,a){},124:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(57),i=a.n(o),s=(a(63),a(29)),c=a(3),l=a(4),u=a(6),m=a(5),h=a(7),y=a(44),d=a.n(y);d.a.initializeApp({apiKey:"AIzaSyD3cqWY66H2moOwM14z-JNOoH76vFORJ5w",authDomain:"neverending-story.firebaseapp.com",databaseURL:"https://neverending-story.firebaseio.com",projectId:"neverending-story",storageBucket:"neverending-story.appspot.com",messagingSenderId:"779792565384"});var p=d.a,b=(a(119),a(120),function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("header",null,r.a.createElement("h1",null,"Your Story"))}}]),t}(n.Component)),f=(a(121),function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("section",{className:"description"},r.a.createElement("div",{className:"content"},r.a.createElement("p",null,"Add to a community-driven story and watch the tale unfold. Read the story below and add what you think comes next. If there is no story yet, kick off a new one by writing the first line!")))}}]),t}(n.Component)),v=(a(122),function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("section",{className:"story"},r.a.createElement("ul",null,this.props.entries.map(function(e){return r.a.createElement("li",{key:e.key},r.a.createElement("p",{className:"body"},e.submission),r.a.createElement("p",{className:"attribution"},e.author,", ",e.time))})))}}]),t}(n.Component)),g=(a(123),function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).handleChange=function(t){e.setState(Object(s.a)({},t.target.name,t.target.value))},e.getDate=function(){var e=new Date,t=e.getHours(),a=e.getMinutes();a<=9&&(a=("0"+a).slice(-2));var n=["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()],r=e.getFullYear(),o=e.getDate();return"".concat(t,":").concat(a,", ").concat(n," ").concat(o,", ").concat(r)},e.handleSubmit=function(t){t.preventDefault();var a=e.getDate();e.setState({timestamp:a},function(){p.database().ref("inProgress/".concat(this.props.activeStory)).push({author:this.state.authorInput,body:this.state.bodyInput,time:this.state.timestamp}),this.setState({authorInput:"",bodyInput:"",storyTitle:""})})},e.state={authorInput:"",bodyInput:"",timestamp:"",storyTitle:""},e}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("section",{className:"formSection"},r.a.createElement("div",{className:"formContainer"},r.a.createElement("div",{className:"form"},r.a.createElement("form",{action:"submit",onSubmit:this.handleSubmit},r.a.createElement("p",null,"Your name and submission will be public."),r.a.createElement("label",{htmlFor:"bodyInput",className:"visuallyHidden"},"Story Submission:"),r.a.createElement("textarea",{className:"storyField",name:"bodyInput",id:"bodyInput",placeholder:"What happens next?",onChange:this.handleChange,value:this.state.bodyInput,required:!0,maxLength:"500"}),r.a.createElement("label",{htmlFor:"authorInput",className:"visuallyHidden"},"Your Name:"),r.a.createElement("input",{className:"smallField",type:"text",name:"authorInput",id:"authorInput",placeholder:"Name",onChange:this.handleChange,value:this.state.authorInput,required:!0}),r.a.createElement("button",{type:"submit"},"Add to the story")),r.a.createElement("form",{action:"submit",onSubmit:function(t){return e.props.newStory(t,e.state.storyTitle)}},r.a.createElement("p",null,"If there is nothing left to add, you can instead choose to give this story a name before wiping the slate clean and beginning a new one."),r.a.createElement("label",{htmlFor:"storyTitle",className:"visuallyHidden"},"Story Name:"),r.a.createElement("input",{className:"smallField",type:"text",name:"storyTitle",id:"storyTitle",placeholder:"Story Title",value:this.state.storyTitle,onChange:this.handleChange,required:!0}),r.a.createElement("button",{type:"submit"},"Finish the story")))))}}]),t}(n.Component)),S=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).clearStory=function(){var e=p.database().ref("inProgress/activeStory");e.remove(),e.push({author:"Sylvia Plath",body:"\u201cAnd by the way, everything in life is writable about if you have the outgoing guts to do it, and the imagination to improvise. The worst enemy to creativity is self-doubt.\u201d",time:"The Unabridged Journals of Sylvia Plath"})},e.newStory=function(){var t=e.state.storyName,a=p.database().ref("completed");a.once("value",function(n){console.log(t),a.push(Object(s.a)({},t,e.state.entries))}),e.clearStory()},e.getTitle=function(t,a){t.preventDefault(),e.setState({storyName:a},function(){this.newStory()})},e.state={entries:[],activeStory:"activeStory",storyName:"",titleArray:[]},e}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;p.database().ref("inProgress/activeStory").on("value",function(t){var a=[],n=t.val();for(var r in n)a.push({key:r,submission:n[r].body,author:n[r].author,time:n[r].time});e.setState({entries:a})})}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(b,null),r.a.createElement(f,null),r.a.createElement(v,{entries:this.state.entries,activeStory:this.state.activeStory}),r.a.createElement(g,{entries:this.state.entries,activeStory:this.state.activeStory,newStory:this.getTitle}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},58:function(e,t,a){e.exports=a(124)},63:function(e,t,a){}},[[58,1,2]]]);
//# sourceMappingURL=main.f22cb0ae.chunk.js.map